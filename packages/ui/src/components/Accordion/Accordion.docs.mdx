import { Story } from "@storybook/addon-docs";

# Accordion

> A vertically stacked set of interactive headings that each reveal an associated section of content.

This is a styled version of [@radix-ui/accordion](https://www.radix-ui.com/docs/primitives/components/accordion). The one exception is that we conveniently combine `Header` in the `Trigger` and add some additional props for styling.

## Subcomponents

- `Accordion.Root`
- `Accordion.Item`
- `Accordion.Trigger`
- `Accordion.Content`

## Usage

There are two main types of `Accordion` which are defined by the `type` prop. Those are, single and multiple.

<Story id="components-accordion--default" />
<div style={{ height: "1rem" }} />

### Single

This type only allows one `Accordion.Item` to be open at once and will close the current open item when another is opened.

```tsx
import Accordion from "@gc-digital-talent/ui/Accordion";

const ExampleAccordionSingleOpen = () => (
  <Accordion.Root type="single">
    <Accordion.Item value="one">
        <Accordion.Trigger Icon={HeroIcon} subtitle="Subtitle">
          Example Accordion One Heading
        </Accordion.Trigger>
        <Accordion.Content>
          <p>Example accordion one content.
        </Accordion.Content>
      </Accordion.Item>
  </Accordion.Root>
);
```

### Multiple

This type allows any number of `Accordion.Item` to be open at once.

```tsx
import Accordion from "@gc-digital-talent/ui/Accordion";

const ExampleAccordionMultipleOpen = () => (
  <Accordion.Root type="multiple">
    <Accordion.Item value="one">
      <Accordion.Trigger Icon={HeroIcon} subtitle="Subtitle">
        Example Accordion One Heading
      </Accordion.Trigger>
      <Accordion.Content>
        <p>Example accordion one content.
      </Accordion.Content>
    </Accordion.Item>
    <Accordion.Item value="two">
      <Accordion.Trigger Icon={HeroIcon} subtitle="Subtitle">
        Example Accordion Two Heading
      </Accordion.Trigger>
      <Accordion.Content>
        <p>Example accordion two content.
      </Accordion.Content>
    </Accordion.Item>
  </Accordion.Root>
);
```

## Props

### Root

All props from the `@radix-ui/accordion` `Root` component as well as additional style props.

See: [Documentation](https://www.radix-ui.com/docs/primitives/components/accordion#root)

### Definition

```tsx
type AccordionMode = "card" | "simple";

type RootProps = React.ComponentPropsWithoutRef<
  typeof AccordionPrimitive.Root
> & {
  mode?: AccordionMode;
};
```

- `mode`: Determine how the accordion is displayed
  - See: [Accordion Design File](https://github.com/GCTC-NTGC/gc-digital-talent/discussions/5522)

### Trigger

All props from the `@radix-ui/accordion` `Trigger` component as well as additional style props.

See: [Documentation](https://www.radix-ui.com/docs/primitives/components/accordion#trigger)

#### Definition

```tsx
interface AccordionTriggerProps
  extends AccordionTriggerPrimitivePropsWithoutRef {
  Icon?: React.ComponentType<React.SVGProps<SVGSVGElement>>;
  context?: React.ReactNode;
  subtitle?: React.ReactNode;
  headerAs?: HeadingRank;
}
```

- `Icon`: Appears at the far right of the trigger
- `context`: Provide additional context that appears at the end of the trigger
- `subtitle`: Appears directly below the title (defined by `children`)
- `headerAs`: Defines the heading rank for the trigger
  - See: [WAI Headings](https://www.w3.org/WAI/tutorials/page-structure/headings/)

## Links

- [Documentation](https://www.radix-ui.com/docs/primitives/components/accordion)
- [Accessibility](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/)
