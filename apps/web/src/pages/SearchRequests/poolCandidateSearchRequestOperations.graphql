fragment poolCandidateSearchRequest on PoolCandidateSearchRequest {
  id
  fullName
  email
  department {
    id
    departmentNumber
    name {
      en
      fr
    }
  }
  jobTitle
  wasEmpty
  additionalComments
  poolCandidateFilter {
    id
    classifications {
      id
      name {
        en
        fr
      }
      group
      level
    }
    hasDiploma
    equity {
      hasDisability
      isIndigenous
      isVisibleMinority
      isWoman
    }
    languageAbility
    operationalRequirements
    workRegions
    pools {
      id
      name {
        en
        fr
      }
      classifications {
        id
        group
        level
      }
      stream
    }
  }
  requestedDate
  status
  statusChangedAt
  adminNotes
  applicantFilter {
    id
    hasDiploma
    equity {
      hasDisability
      isIndigenous
      isVisibleMinority
      isWoman
    }
    languageAbility
    operationalRequirements
    locationPreferences
    positionDuration
    expectedClassifications {
      id
      name {
        en
        fr
      }
      group
      level
    }
    skills {
      id
      key
      name {
        en
        fr
      }
    }
    pools {
      id
      name {
        en
        fr
      }
      stream
      classifications {
        id
        group
        level
      }
    }
    qualifiedClassifications {
      id
      name {
        en
        fr
      }
      group
      level
    }
    qualifiedStreams
  }
}
query getPoolCandidateSearchRequests {
  poolCandidateSearchRequests {
    ...poolCandidateSearchRequest
  }
}

query getPoolCandidateSearchRequest($id: ID!) {
  poolCandidateSearchRequest(id: $id) {
    ...poolCandidateSearchRequest
  }
}

query getPoolCandidateSearchRequestsPaginated(
  $where: PoolCandidateSearchRequestInput
  $first: Int
  $page: Int
  $orderBy: [OrderByClause!]
) {
  poolCandidateSearchRequestsPaginated(
    where: $where
    first: $first
    page: $page
    orderBy: $orderBy
  ) {
    data {
      additionalComments
      adminNotes
      department {
        id
        departmentNumber
        name {
          en
          fr
        }
      }
      email
      fullName
      id
      jobTitle
      requestedDate
      status
      statusChangedAt
      wasEmpty
    }
    paginatorInfo {
      count
      currentPage
      firstItem
      hasMorePages
      lastItem
      lastPage
      perPage
      total
    }
  }
}

mutation updatePoolCandidateSearchRequest(
  $id: ID!
  $poolCandidateSearchRequest: UpdatePoolCandidateSearchRequestInput!
) {
  updatePoolCandidateSearchRequest(
    id: $id
    poolCandidateSearchRequest: $poolCandidateSearchRequest
  ) {
    id
    status
    adminNotes
  }
}
