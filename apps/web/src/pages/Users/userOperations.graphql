query AllUsers {
  users {
    id
    email
    firstName
    lastName
    telephone
    preferredLang
    preferredLanguageForInterview
    preferredLanguageForExam
  }
}

query User($id: UUID!) {
  user(id: $id, trashed: WITH) {
    id
    email
    authInfo {
      id
      sub
      roleAssignments {
        id
        role {
          id
          name
          isTeamBased
          displayName {
            en
            fr
          }
        }
        team {
          id
          name
          displayName {
            en
            fr
          }
        }
      }
    }
    deletedDate
    firstName
    lastName
    telephone
    preferredLang
    preferredLanguageForInterview
    preferredLanguageForExam
  }
}

query UserName($userId: UUID!) {
  user(id: $userId, trashed: WITH) {
    id
    firstName
    lastName
    deletedDate
  }
}

mutation CreateUser($user: CreateUserInput!) {
  createUser(user: $user) {
    id
    authInfo {
      id
      sub
    }

    firstName
    lastName
    email
    telephone
    currentProvince
    currentCity

    preferredLang
    preferredLanguageForInterview
    preferredLanguageForExam
    lookingForEnglish
    lookingForFrench
    lookingForBilingual
    bilingualEvaluation
    comprehensionLevel
    writtenLevel
    verbalLevel
    estimatedLanguageAbility

    isGovEmployee
    hasPriorityEntitlement
    priorityNumber
    department {
      id
      departmentNumber
      name {
        en
        fr
      }
    }
    currentClassification {
      id
      name {
        en
        fr
      }
      group
      level
      minSalary
      maxSalary
    }

    isWoman
    hasDisability
    isVisibleMinority
    indigenousCommunities
    indigenousDeclarationSignature

    locationPreferences
    locationExemptions
    acceptedOperationalRequirements
    positionDuration
  }
}

mutation UpdateUserAsUser($id: ID!, $user: UpdateUserAsUserInput!) {
  updateUserAsUser(id: $id, user: $user) {
    id
    firstName
    lastName
    telephone
    preferredLang
    preferredLanguageForInterview
    preferredLanguageForExam
    currentProvince
    currentCity

    preferredLang
    lookingForEnglish
    lookingForFrench
    lookingForBilingual
    bilingualEvaluation
    comprehensionLevel
    writtenLevel
    verbalLevel
    estimatedLanguageAbility

    isGovEmployee
    hasPriorityEntitlement
    priorityNumber
    department {
      id
      departmentNumber
      name {
        en
        fr
      }
    }
    currentClassification {
      id
      name {
        en
        fr
      }
      group
      level
      minSalary
      maxSalary
    }

    isWoman
    hasDisability
    isVisibleMinority
    indigenousCommunities
    indigenousDeclarationSignature

    locationPreferences
    locationExemptions
    acceptedOperationalRequirements
    positionDuration
  }
}

mutation UpdateUserAsAdmin($id: ID!, $user: UpdateUserAsAdminInput!) {
  updateUserAsAdmin(id: $id, user: $user) {
    id
    authInfo {
      id
      sub
    }

    firstName
    lastName
    telephone
    currentProvince
    currentCity

    preferredLang
    preferredLanguageForInterview
    preferredLanguageForExam
    lookingForEnglish
    lookingForFrench
    lookingForBilingual
    bilingualEvaluation
    comprehensionLevel
    writtenLevel
    verbalLevel
    estimatedLanguageAbility

    isGovEmployee
    hasPriorityEntitlement
    priorityNumber
    department {
      id
      departmentNumber
      name {
        en
        fr
      }
    }
    currentClassification {
      id
      name {
        en
        fr
      }
      group
      level
      minSalary
      maxSalary
    }

    isWoman
    hasDisability
    isVisibleMinority
    indigenousCommunities
    indigenousDeclarationSignature

    locationPreferences
    locationExemptions
    acceptedOperationalRequirements
    positionDuration
  }
}

mutation UpdateUserSub($updateUserSubInput: UpdateUserSubInput!) {
  updateUserSub(updateUserSubInput: $updateUserSubInput) {
    id
    sub
  }
}

mutation UpdateUserRoles($updateUserRolesInput: UpdateUserRolesInput!) {
  updateUserRoles(updateUserRolesInput: $updateUserRolesInput) {
    id
    roleAssignments {
      id
      role {
        id
        name
        isTeamBased
        displayName {
          en
          fr
        }
      }
      team {
        id
        name
        displayName {
          en
          fr
        }
      }
    }
  }
}

mutation DeleteUser($id: ID!) {
  deleteUser(id: $id) {
    id
    deletedDate
    authInfo {
      id
      sub
    }
    email
    poolCandidates {
      id
      deletedDate
      pool {
        id
      }
    }
    experiences {
      id
      deletedDate
    }
  }
}

fragment poolCandidateUserSkillFragment on UserSkill {
  id
  user {
    id
  }
  skill {
    id
    key
    category
    name {
      en
      fr
    }
  }
  skillLevel
  topSkillsRank
  improveSkillsRank
}

query GetViewUserData($id: UUID!) {
  user(id: $id, trashed: WITH) {
    id
    email
    firstName
    lastName
    telephone
    citizenship
    armedForcesStatus
    preferredLang
    preferredLanguageForInterview
    preferredLanguageForExam
    currentProvince
    currentCity
    lookingForEnglish
    lookingForFrench
    lookingForBilingual
    bilingualEvaluation
    comprehensionLevel
    writtenLevel
    verbalLevel
    estimatedLanguageAbility
    isGovEmployee
    govEmployeeType
    hasPriorityEntitlement
    priorityNumber
    locationPreferences
    locationExemptions
    positionDuration
    acceptedOperationalRequirements
    indigenousCommunities
    indigenousDeclarationSignature
    hasDisability
    isVisibleMinority
    isWoman
    poolCandidates {
      id
      status
      expiryDate
      notes
      suspendedAt
      user {
        id
      }
      pool {
        id
        name {
          en
          fr
        }
        classifications {
          id
          group
          level
        }
        stream
        publishingGroup
        team {
          id
          name
          displayName {
            en
            fr
          }
        }
      }
    }
    department {
      id
      departmentNumber
      name {
        en
        fr
      }
    }
    currentClassification {
      id
      group
      level
      name {
        en
        fr
      }
    }
    experiences {
      id
      __typename
      user {
        id
        email
      }
      details
      skills {
        id
        key
        name {
          en
          fr
        }
        description {
          en
          fr
        }
        keywords {
          en
          fr
        }
        category
        experienceSkillRecord {
          details
        }
      }
      ... on AwardExperience {
        title
        issuedBy
        awardedDate
        awardedTo
        awardedScope
      }
      ... on CommunityExperience {
        title
        organization
        project
        startDate
        endDate
      }
      ... on EducationExperience {
        institution
        areaOfStudy
        thesisTitle
        startDate
        endDate
        type
        status
      }
      ... on PersonalExperience {
        title
        description
        startDate
        endDate
      }
      ... on WorkExperience {
        role
        organization
        division
        startDate
        endDate
      }
    }
    topTechnicalSkillsRanking {
      ...poolCandidateUserSkillFragment
    }
    topBehaviouralSkillsRanking {
      ...poolCandidateUserSkillFragment
    }
    improveTechnicalSkillsRanking {
      ...poolCandidateUserSkillFragment
    }
    improveBehaviouralSkillsRanking {
      ...poolCandidateUserSkillFragment
    }
  }
  pools {
    id
    name {
      en
      fr
    }
    stream
    classifications {
      id
      group
      level
    }
    status
  }
}

query AllUsersPaginated(
  $where: UserFilterInput
  $first: Int
  $page: Int
  $orderBy: [OrderByClause!]
) {
  usersPaginated(where: $where, first: $first, page: $page, orderBy: $orderBy) {
    data {
      id
      email
      firstName
      lastName
      telephone
      preferredLang
      preferredLanguageForInterview
      preferredLanguageForExam
      createdDate
      updatedDate
      authInfo {
        id
        roleAssignments {
          id
          role {
            id
            name
            displayName {
              en
              fr
            }
          }
        }
      }
    }
    paginatorInfo {
      count
      currentPage
      firstItem
      hasMorePages
      lastItem
      lastPage
      perPage
      total
    }
  }
}

query UserFilterData {
  skills {
    id
    key
    name {
      en
      fr
    }
    category
  }
  pools {
    id
    name {
      en
      fr
    }
    classifications {
      id
      name {
        en
        fr
      }
      group
      level
    }
    stream
  }
  roles {
    id
    name
    displayName {
      en
      fr
    }
  }
}
