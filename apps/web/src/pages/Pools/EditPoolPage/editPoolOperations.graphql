# query to populated the edit pool page
query getEditPoolData($poolId: UUID!) {
  # the existing data of the pool to edit
  pool(id: $poolId) {
    id
    name {
      en
      fr
    }
    closingDate
    status
    language
    securityClearance
    classifications {
      id
      group
      level
      name {
        en
        fr
      }
      genericJobTitles {
        id
        key
        name {
          en
          fr
        }
      }
    }
    yourImpact {
      en
      fr
    }
    keyTasks {
      en
      fr
    }
    whatToExpect {
      en
      fr
    }
    specialNote {
      en
      fr
    }
    essentialSkills {
      id
      key
      name {
        en
        fr
      }
      category
      families {
        id
        key
        description {
          en
          fr
        }
        name {
          en
          fr
        }
      }
    }
    nonessentialSkills {
      id
      key
      name {
        en
        fr
      }
      category
      families {
        id
        key
        description {
          en
          fr
        }
        name {
          en
          fr
        }
      }
    }
    isRemote
    location {
      en
      fr
    }
    stream
    processNumber
    publishingGroup
    screeningQuestions {
      id
      question {
        en
        fr
      }
    }
    team {
      id
      name
    }
  }

  # all classifications to populate form dropdown
  classifications {
    id
    group
    level
    name {
      en
      fr
    }
  }

  # all skills to populate skill pickers
  skills {
    id
    key
    name {
      en
      fr
    }
    description {
      en
      fr
    }
    keywords {
      en
      fr
    }
    category
    families {
      id
      key
      name {
        en
        fr
      }
      description {
        en
        fr
      }
    }
  }
}

mutation updatePool($id: ID!, $pool: UpdatePoolInput!) {
  updatePool(id: $id, pool: $pool) {
    id
  }
}

mutation publishPool($id: ID!) {
  publishPool(id: $id) {
    id
    publishedAt
  }
}

mutation changePoolClosingDate($id: ID!, $closingDate: DateTime!) {
  changePoolClosingDate(id: $id, newClosingDate: $closingDate) {
    id
  }
}

mutation closePool($id: ID!) {
  closePool(id: $id) {
    id
    closingDate
  }
}

mutation deletePool($id: ID!) {
  deletePool(id: $id) {
    id
  }
}

mutation duplicatePool($id: ID!, $teamId: ID!) {
  duplicatePool(id: $id, teamId: $teamId) {
    id
  }
}

mutation archivePool($id: ID!) {
  archivePool(id: $id) {
    id
  }
}

mutation unarchivePool($id: ID!) {
  unarchivePool(id: $id) {
    id
  }
}
